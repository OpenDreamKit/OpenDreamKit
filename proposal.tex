\documentclass[noworkareas,deliverables,keys]{euproposal}                  % for writing
%\documentclass[submit,noworkareas,deliverables]{euproposal}            % for submission
%\documentclass[submit,public,noworkareas,deliverables]{euproposal} % for public version 

\usepackage[utf8]{inputenc}

\usepackage{float}  % used to suppress floating of tables in Resources section.

\addbibresource{kwarc.bib}
\addbibresource{bibliography.bib}
\input{WApersons} % Some sections of the included files depend on this.
\input{preamble}

\begin{document}

\begin{proposal}[
  % These PM numbers (person months) are for the coordinator to help planning
  % Participants should not change these, but add PM numbers in the CVS in 
  % the site descriptions at CVs/*.tex
  % TODO: Nicolas needs to update these numbers from the (requested ones)
  site=PS, %paris sud
  site=LL, % logilab
  site=UV, % Versailles
  site=UJF, % Univ Josef Fourier Grenoble
  site=UB,   % Bordeaux
  site=UO, % Oxford
  site=USH, % Sheffield
  site=USO, % Southhampton
  site=SA, % St Andrews
  site=UW, % Warwick
  site=JU,  % Jacobs University Bremen
  site=UK, % Kaiserslautern
  site=US, % Silesia
  site=ZH, % Z"urich
  site=SR, % Simula
  site=UWS, % Seattle
  botupPM, % we want to work via bottom up PM distribution, 
% alternative: (can be combined)
% topdownPM, % the coordinator distributes PM as follows:
  % PSRM=48, %paris sud
  % LLRM=48, % logilab
  % UVRM=48, % Versailles
  % UJFRM=48, % Fourier
  % UBRM=48,   % Bordeaux
  % UORM=48, % Oxford
  % USHRM=48, % Sheffield
  % USORM=48, % Southhampton
  % SARM=48, % St Andrews
  % UWRM=48, % Warwick
  % JURM=48,  % Jacobs
  % UKRM=48, % Kaiserslautern
  % USRM=48, % Silesia
  % ZHRM=48, % Z"urich
  % SRRM=48, % Simula
  % UWSRM=48, % Seattle
  coordinator=thiery,
  acronym={OpenDreamKit},
  acrolong={OpenDreamKit},
  title=Open Digital Research Environment Toolkit\\ for the Advancement of Mathematics,
  callname=e-Infrastructures for Virtual Research Environments (VRE),
  callid=EINFRA-9,
  % TODO: consistency with provided template
  % CALL: H2020-EINFRA-2015-1
  % TOPIC: e-Infrastructures for Virtual Research Environments (VRE)
  % Instrument: e-Infrastructures
  % keywords: Engineering and technology / Computer sciences, information science, bioinformatics / Mathematics
  % Computational mathematics
  instrument= H2020 Call 3 Topic 9-2015, 
  challengeid = TODO,
  %challenge = {N/A},
  %objectiveid={N/A}, 
  %objective = TODO,
  %outcomeid = N/A,
  %outcome = N/A,
  coordinator=thiery,
  months=48,
  compactht]
\newcommand{\TheProject}{\pn}% \pn is defined automatically

\begin{abstract}
  \TODO{expand (maximum: 2000 characters)}
  \TheProject focuses on delivering a toolkit that will make it easy
  to setup Virtual Research Environments, customized to meet the
  diverse needs of collaborative research in pure mathematics and
  applications, and built out of a sustainable ecosystem
  of % both domain-specific and general purpose
  community-developed open software, databases, and services.
\end{abstract}
\tableofcontents

\include{outline}

% ---------------------------------------------------------------------------
%  Section 1: Excellence
% ---------------------------------------------------------------------------

\section{Excellence}


%Option 1
We live in an innovation-driven society \TODO{three examples, e.g.  number theory for
  cryptography, etc.}. At the center of all of these innovations there is mathematical
knowledge and algorithms, indeed the innovations have been made possible by investments
into pure and applied research in mathematics -- the engineering and business innovations
necessary to make the innovations fly would be meaningless without the mathematical
core.\TODO{show how in the three examples}.

%% Option 2 
% We live in an innovation-driven society. The key enabling tools and
% methods for all technology are based on mathematical knowledge and
% algorithms. Past innovation examples include Global Positioning System
% (GPS) devices needing relativistic mathematics, finite element
% calculations and mobile phone connectivity depending on Delaunay
% triangulations, and cryptography in today's networked world being
% based on number theory.
%


%% Option 3
% We live in an innovation-driven society, benefitting from, for
% example, global communication networks, significant advances in health
% care, and computer simulation driven design of new products. At the
% center of all of these innovations there is mathematical knowledge and
% algorithms: Computer Xray Tomography is based on solving mathematical
% inverse problems, cryptography for secure communication channels is
% based on number theory and finite element simulations depend on the
% mathematics of Delaunay triangulations. Pure and applied mathematics
% are an enabling technology for our world.


\begin{center}
\begin{boxedminipage}{.95\textwidth}\em 
In the last three decades mathe research has gone from a solitary pen-and-paper activity of
talented individuals corresponding via lectures, letters, and journal articles to a
collaborative, geographically distributed team activity that involves building joint
research infrastructures. At the same time computational aspects have become much more
prominent in math research driven by the availability of computers and high-quality
software as tools, as well as the needs of the innovation society.
\end{boxedminipage}
\end{center}

The maths community was one of the first to take up new technologies and has been driving
them, e.g.
\begin{compactenum}[\em i)\rm]
\item in standards: MathML was the first XML recommendation,
\item in open source: \TODO{early examples of open source? Gnuplot, maybe? Must have been around already in 1993.},
\item in Web 2.0: planetmath.org has been Web2.0 even before Wikipedia,
\item in high-performance computing: Computer Algebra System research has driven development of HPC,
\item \ldots the list is legion \ldots
\end{compactenum}

However, the math software systems are largely insular and
non-interoperable, the development of innovations is driven by
universities via open source systems (largely in Europe), but is
commercialized in the US by companies like Wolfram and MapleSoft, who
have the developer power to appropriate the innovations in a uniform
computational framework and give it a coherent mathematical user
interface. These companies made profits in the billions in the last
two decades.

There is also substantial activity in open source tool development as well:
\begin{compactitem}
\item The SAGE project is a community-driven effort to provide a common computational
  framework for existing (open-source) mathematical software systems, to make them
  interoperable and give researchers and practitioners in math a scriptable toolkit for
  research in computational mathematics and mathematics-driven innovation.
\item The \Jupyter{} Notebook project innovates computational workflows by condensing text, equations, code and data into a single executable document. The \Jupyter project emerged from the IPython Notebook as generic computational infrastructure that is compatible with many other programming languages. It is already used very widely in research and development in academia and industry and the user base grows rapidly. 
\end{compactitem}
\begin{center}
\begin{boxedminipage}{.95\textwidth}\em 
In the \TheProject project, we will build the virtual math research environment (MathVRE) based
on existing math software systems building on the efforts of SAGE and Jupyter efforts. The
\TheProject System will
\begin{compactenum}[\em i)\rm]
\item be a community effort (the DreamKIT project joins the leading SAGE/Jupyter
  developers with leading experts on the missing pieces) 
  and unites the technologies,
\item innovate virtual research environment (VRE) development: instead of building an essentially monolithic system like
  Mathematica or Maple, we will build an open framework for Math VREs, which can be
  extended by plugins and experimented on as needed, and
\item wrest the initiative in the space of computational mathematics from the corporate
  world into the open source research/innovation community, which is traditionally strong in Europe.
\end{compactenum}
\end{boxedminipage}
\end{center}

Concretely, \TheProject focuses on delivering tools that will make it easy to setup
Virtual Research Environments, customized to meet the diverse needs of collaborative
research in pure mathematics and applications, and built out of a sustainable ecosystem
of % both domain-specific and general purpose
community-developed open software, databases, and services.

The remarkable emergence and success in the last decade(s) of a large ecosystem of
community-developed computational software like e.g.\ \GAP, \Linbox, \PariGP, \Sage, or
\Singular and of interactive scientific computing environments like \IPython showcase the
viability of community development models for such components.

% HF (fangohr 07/01/2015 14:10): The next few paragraphs are
% unconnected and appear repetitive. Needs more work and braveness in
% revising.

The recent successes of the Virtual Research and Teaching Environment \SMC (hosting more
than 10k users and 100k projects after just one year) and of the online number theory
database LMFDB showcase the strong need for \textbf{integrated solutions} enabling
large-scale collaboration on \textbf{software}, \textbf{knowledge}, and \textbf{data}.

Yet setting up infrastructures like those mentioned above currently requires massive
ad-hoc efforts. Challenges include portability, compatibility, performance, usability,
reproducibility, not to mention the many social aspects involved in communities and
ecosystems thereof.

A specific challenge in mathematics comes from the vast yet tightly connected array of
concepts involved. Different groups of researchers may have radically different needs,
workflows, and resources, calling for a highly modular and customizable VRE
infrastructure.

\TheProject will attack all those challenges upfront, while consolidating Europe's leading
position in this field.

\TODO{Better explain the specific needs in maths, and why we focus on VRE building blocks
  rather than VRE themselves, in the DIY spirit.}


%Does the following help with the TODO?
In particular, we will focus on developing and improving building
blocks of e-infrastructure that can be assembled and re-used flexibly
to address a wide range of requirements in mathematics and the
applications of mathematics in science and engineering, rather than
creating one particular monolithic environment.


While focussed on virtual research environment \emph{for mathematics},
the set of beneficiaries and potential impact of the project is
significant and extends to physics, chemistry, biology, engineering,
medicine, earth sciences and geography, both for education and
research. We also expect the commercial sector to profit from these
developments.


% The development of effective, flexible and easy-to-use VRE technology
% is especially important for mathematicians, because their research
% groups tend to be small and can be isolated.

% \TODO{Reference this last claim? Maybe expand a little more,
% or justify later}

\subsection{Objectives}
\label{sect:objectives}

\eucommentary{1-2 pages}
\eucommentary{\emph{Describe the specific objectives for the project,
which should be clear, measurable, realistic and achievable within the
duration of the project. Objectives should be consistent with the expected
exploitation and impact of the project (see section 2).}}

The specific aims of \TheProject are:


\begin{enumerate}[\textbf{Aim} 1:]
\item \label{aim:collaboration} Improve the productivity of
  researchers in pure mathematics and applications by promoting
  collaborations based on mathematical \textbf{software},
  \textbf{data}, and \textbf{knowledge}.
\item \label{aim:vre} Make it easy for teams of
  researchers of any size to setup custom collaborative Virtual Research
  Environments tailored to their needs, resources and workflows, supporting the
  entire life-cycle of computational work in mathematical research,
  from initial exploration to publication, teaching and outreach.
  % and bridge the gaps between
  % code, published results, and educational material.
\item \label{aim:sharing} Identify and promote best practices in
  computational mathematical research, including making results easily
  reproducible, producing reusable and easily accessible
  software, sharing data in a semantically sound way and exploiting and
  supporting the growing ecosystem of computational tools.
\item \label{aim:impact} Maximize sustainability as well as impact in
  mathematics, neighboring fields, and scientific computing.

\TODO{HF: Aim 3 seems rather crowded. Should we filter out 'reproducibility' and move this into Aim 4 (impact)? Or create a new aim?}
\end{enumerate}



Our research will cover a wide variety of aspects, ranging from
software development models, user interfaces \TODO{virtual
  environments?}, deployment frameworks and novel collaborative tools,
component architecture, design, and standardization of software
\TODO{system?} and databases, to links to publication, data archival
and reproducibility of experiments, development models and tools, and
social aspects.

The concrete objectives of \TheProject are:

\begin{enumerate}[\textbf{Objective} 1:]
\item\label{objective:framework} To develop and standardize
  an architecture allowing a range of mathematical and
  data and software components to be combined 
  with off-the-shelf non-mathematical infrastructure to produce
  specialized VREs for different research communities. The
  architecture will take the form of standards documents and APIs
  equipped, where appropriate, with formal or informal mathematical
  semantics to ensure interactions are mathematically sound. This primarily
  addresses aim \ref{aim:vre}, thereby contributing to aims
  \ref{aim:collaboration} and~\ref{aim:sharing}. \TODO{This is a bit long}

\item\label{objectives:core} To develop open source core components
  for such VREs where existing software is not  or not suitable. These
  components should support VREs running on a variety of
  platforms, including standard cloud and cluster platforms. This primarily
  addresses Aim~\ref{aim:vre}, thereby contributing to Aim
  \ref{aim:collaboration} and~\ref{aim:sharing}.

\item \label{objective:community} To bring together related research
  communities (such as users of IPython, \Sage, \Singular, and \GAP)
  to symbiotically exploit overlaps in tool creation building efforts,
  to avoid duplication of effort in different disciplines, and to
  benefit from best-practice pioneered in one community by sharing it
  most effectively. This supports Aims~\ref{aim:collaboration},
  \ref{aim:sharing} and~\ref{aim:impact}.

\item \label{objective:updates} Update a range of existing open source
  mathematical software systems for seamless deployment and efficient
  execution within the VRE architecture of objective~\ref{objective:framework}.
  This fulfills part of Aim~\ref{aim:vre}.


  % Our tools will span the entire life-cycle of a research idea, . They will. This
  % project is based on existing, proven open source technologies
  % developed by our team over the last decade that have been widely
  % adopted in academia and industry.

\item \label{objective:sustainable} Foster a sustainable ecosystem of
  interoperable open source components developed by overlapping
  communities, in particular by identifying and promoting software
  development best practices, and outsourcing development to larger
  communities whenever suitable. This fulfills part of
  Aim~\ref{aim:sharing} and~\ref{aim:impact}.

\item \label{objective:social} Explore the social aspects: how do
  researchers collaborate in Mathematics? What can be the role of
  Virtual Research Environments?  This addresses part of
  Aim~\ref{aim:sharing} and~\ref{aim:vre}.
  \TOWRITE{DP}{objective:social write detailed description}

\item \label{objective:data} Identify and extend ontologies and
  standards to allow easy, safe and efficient storage, reuse,
  interoperation and sharing of rich mathematical data taking account
  of provenance and citability. This fulfills parts of
  Aim~\ref{aim:vre} and~\ref{aim:sharing}. 

\item \label{objective:demo}Demonstrate the effectiveness of Virtual
  Research Environments built on top of \TheProject components for a
  number of real-world use cases that traverse domains. This addresses
  part of Aim~\ref{aim:vre} and through documenting best practice in
  reproducible demonstrator documents Aim~\ref{aim:sharing}.

%Long term sustainability
\item \label{objective:disseminate}Effective Dissemination
\TOWRITE{VP}{objective:disseminate: write detailed description}

\end{enumerate}

\subsection*{Detailed Descriptions of Objectives} % delete if a
                                % heading isn't needed here

\paragraph{Objective~\ref{objective:framework}: Virtual Research
  Environment Kit}\ 

Computational techniques have become a core asset for research in pure
  mathematics and its applications in the last decades. Mathematics
  communities have come together to develop powerful computational
  tools, such as GAP, \PariGP, \Sage or Singular, and valuable on-line
  services such as the Encyclopedia of Integer Sequences and the ATLAS
  of Group Representations. \TODO{cite} In building these systems, 
  mathematicians have gained strong
  experience in collaborative software development, with pioneering
  work and continuing leadership of Europe.

A number of approaches to linking these resources have been developed,
such as the SCSCP protocol from the Framework 6 SCIEnce project, and
the incorporation of a variety of free software tools in the \Sage 
system, but the overall model is still that of a single mathematician
running programs or interacting with a ``notebook''
page. The software provides little or no support for other aspects of
mathematical research: collaboration,
archival, reproducibility or linkage between programs, data and
publication. Databases are updated mainly by mathematicians directly,
retaining no record of the source of new entries, and providing no way
of referring to the actual version of the data used in a particular
computation.

The first objective of this project is to design an architecture which
will allow existing mathematical software systems (suitably updated), 
off-the shelf non-mathematical tools and a small number of new
components to be flexibly combined to produce a VRE that will
effectively support collaborative mathematical research throughout
it's entire life-cycle. This will include software APIs and standards,
frameworks for assuring the semantic consistency of similar
mathematical objects in different systems.  It will be informed by the
outputs of objective \ref{objective:social}, ensuring that the VREs
fit the ways that mathematicians actually work.

\TODO{Keyword: flexible/versatile virtual environment. Does this
  belong here}

Our research will cover a wide variety of aspects, ranging from
software development models, user interfaces \TODO{virtual
  environments?}  deployment frameworks and novel collaborative tools,
component architecture, design, and standardization of software
components and databases, to links to publication, data archival and
reproducibility of experiments, development models and tools, and
social aspects. It will build on the remarkable success of the open
source ecosystem and consolidate Europe's leading position in
computational mathematics.

Following the call specifications, all software, data, and
publications resulting from this proposal will be open.



\paragraph{Objective~\ref{objectives:core}: Core components}\

Most of the direct mathematical capabilities of our software will come
from existing or updated open source mathematical systems. For instance we will
use the power of the GAP Library for computational group theory or
\PariGP for number theory. Generic services such as storage, version
control, authentication and resource accounting will come from
off-the-shelf components building on standard infrastructures. 

Nevertheless some new or adapted tools will be needed. One example is
a general infrastructure for mathematical databases, covering some of
the types of data values and search criteria common in mathematics,
but rare outside, and issues such as provenance and citation that are
common to most mathematical databases. Other examples include adapting
user interface and collaboration tools to support mathematical notations.




\paragraph{Objective~\ref{objective:community}: Community building across disciplines}\ 


Open source tools are developed with great effect across different
communities often leading to re-inventions and re-implementations of
great ideas by different people not being aware of each other. By
fostering a more cross-discipline community, by sharing tools where
possible and by creating slightly more generic tools that can be shared,
we will reduce such duplication of effort significantly. This will
also lead to better quality software as the maintenance and
development effort can be focused on one tool rather than a wide
spread of codes, allow sharing of innovative ideas and practice more
efficiently, and increasing productivity of research substantially.

While each of the communities such as \Sage, \Singular, and \GAP need
somewhat special features for their research, they are united through
being (i)~focussed on mathematical challenges, (ii)~needing a
computational workflow. \IPython and the \Jupyter Notebook are used
widely in communities outside mathematics in Science and Engineering
that also need the computational workflow and are based on
(iii)~applications of mathematics. These three common attributes are
sufficient to distill the requirements for core features of the
virtual research environment described in this \TheProject{}
proposal. Community building will also help to sustain ongoing and
community driven maintenance of a such a tool.



\paragraph{Objective~\ref{objective:updates}: Updates to Mathematical
  Software components}\ 
Essential to our vision is leveraging the community's massive
decades-long investment in a range of open source mathematical
software systems. These systems are complex, widely used and powerful,
but generally designed for operation as stand-alone programs, not as
part of an integrated VRE. Many are also not well-suited for modern
platforms, needing work to better support parallel programming,
virtualization and HPC platforms. We will update these systems to work
together seamlessly and comply with best practice for portability and
platform integration.


\paragraph{Objective~\ref{objective:sustainable}: A sustainable
  ecosystem of software components}\ 

The success of large specialized software like \PariGP, \Singular or
\GAP in the last decades has shown the viability of the academic open
source development model for such. For a long time, it was bitterly
debated whether this model would have any chance to scale to general
purpose systems for pure mathematics. The rapid takeoff of Sage in the
last decade has proven the viability of the ``developed by users for
users'' model: despite its large international community of about 150
active developers, it's running on a tiny specific budget, with most
activities being funded indirectly by research grants that require
specific development.

This was made possible by reusing existing components whenever
possible (e.g. hundreds of specialized open source math libraries, or
the \Python programming language with its developers tools and huge
library), by spinning off software development (e.g. the \Cython
compiler) to larger communities whenever possible, and by carefully
designing the development workflow.

Yet, long term critical non mathematical features like portability,
modularization, packaging, user interfaces, large data, parallelism,
or outreach toward related software, have been lagging behind. Indeed
they can hardly be implemented as a side product of research projects,
and \textbf{need to be assigned to a few full time developers}. Regular
funding is also needed to better structure the computational
mathematics community in Europe and support its upcoming major
widening through training, development workshops, exchanges, ...

\textbf{One purpose of this grant is to initiate this process and
  invest on the long run to reduce the recurrent needs.}

The principle is that, with the growth of the user base, a tiny number
of institutions or companies will hire a full-time developer to
support critical needs of their in-house research or development.
Opportunities for such hiring are for example actively investigated at
the Laboratoire de Recherche en Informatique. It should be noted that,
at the scale of a large university, the cost of licenses for analogous
commercial software can reach the same order of magnitude as that of a
developer.

%\TODO{Examples: LRI? Full time devs supported by research grant, like
%  for Linbox? Others?}

To reduce the number of required full time developers \TheProject will
invest toward, factoring out joint needs, and outsourcing or spinning
off more components to larger communities.
%
For example, \TheProject will save much recurrent efforts to the
mathematics community by providing a temporary boost to outsource the
development of the user interface of each computational component to
\IPython and make \IPython stand to the stringent needs of the
community.  Later on, thanks to its large user base both in academia
and industry, \IPython will continue to thrive without specific
funding or major contributions from the mathematics community.

\TheProject will also foster the productivity within the ecosystem by
investigating better collaboration processes between components, and
identifying, sharing, and promoting software development best
practices.

% open source development models for
\paragraph{Objective~\ref{objective:social}: \TODO{TITLE: SOCIAL}}\ 
\TOWRITE{DP/...}{objective:social: detailed description}

\paragraph{Objective~\ref{objective:data}: Next generation mathematical databases}\ 
Mathematics has a rich notion of data: it can either be numeric/symbolic data; knowledge about mathematical objects given as statements (definitions, theorems or proofs) or software that computes with these mathematical objects. 

All this data is really a commons, and should be maintained as such. Much of this grant proposal and prior work of many of the experts involved is concerned with open source mathematical software, through permissive licensing of their work. 

The objective described here is to build infrastructure enabling mathematicians to collaboratively build this commons, while fostering a virtuous cycle of interoperability between these different types of data: one mathematician might implement an algorithm, to be run later on numerical data collected by another scientist. 

\paragraph{Objective~\ref{objective:demo}: Collaborative Research Environments that Transcend Domains}\ 

\TOWRITE{ALL}{objective:demo: detailed description}

We will create a number of demonstrators to highlight the power of
\TheProject{}. The demonstrators will highlight the applicability of
\TheProject{} across mathematics, engineering and science. They will
act so as to provide recipes for state-of-the-art computational
infrastructure tools and provide avenues for ensuring the
repeatability of mathematical analysis.

In particular, we will create a repository of interactive notebooks
across a range of application domains (e.g. engineering mechanics,
biology and physics). The notebooks will demonstrate a variety of
numerical and symbolic techniques in self-contained executable
documents. We expect these exemplars to feed in to education at high
schools and universities (both undergraduate and postgraduate
level). They will also provide a resource for outreach and self-study. 

Our demonstrator notebooks will also act as demonstrators of the
features developed in \TheProject. They will be incorporated as a
developed in this project, can be re-executed as a regression test,
and form part of the documentation of \TheProject.

%% We
%% will further develop notebook tools for a magnetic materials
%% simulation package to demonstrate the value of \TheProject{} for
%% leading edge computational science, and develop the corresponding
%% executable tutorials and documentation.


\paragraph{Objective~\ref{objective:disseminate}: \TODO{Title: disseminate}}\ 
\TOWRITE{VP}{objective:disseminate: detailed description}

The success of any research software or service is strongly related to
its ability to attract and convince a great amount of users. Our
different communities (Sage, Gap, \PariGP, Singular, \Jupyter, ...) have developed
a solid experience and network. As an example, Sage has gathered
thousands of users in less than 10 years. This was achieved thanks to
a very strong community building philosophy, especially through the
organization of Sage-Days all over the world. The first Sage-days
happened in 2006, today we count 63 of them, including 10 for 2014
only, and also Sage Education days, Sage Bug days, Sage Doc days and
more. Most of us, \TheProject{} project members, have been involved in
these events either as organizers or participants and it appears as
the most efficient way to promote our software. More precisely, our
objective is to create constant dialogue with the different
communities: frequent workshops, conferences, user groups, mailing
lists. By building on existing tools, we intend to involve the
communities in the development process itself in the spirit of
open-source software.

We also intend to reach a larger crowd of researchers by cutting down
non-research technical issues to access existing tools: building
better documentation and tutorials, developing easy-to-install
distributions, easy web and cloud access, better user interfaces,
better interactions between different software, and we will run a
series of workshops to inject additional momentum into the
process. Doing so, our objective is to help the communities to grow
themselves and interact together using our work.


\clearpage

\draftpage
% ---------------------------------------------------------------------------
%  Section 1.2: Relation to the work programme
% ---------------------------------------------------------------------------
\input{relation_to_the_work_programme.tex}

\draftpage
% ---------------------------------------------------------------------------
%  Section 1.3: Concept and Approach
% ---------------------------------------------------------------------------
\input{concept.tex}

\draftpage
% ---------------------------------------------------------------------------
%  Section 1.4: Ambition
% ---------------------------------------------------------------------------
\input{ambition.tex}

\draftpage
% ---------------------------------------------------------------------------
%  Section 2: Impact
% ---------------------------------------------------------------------------
\input{impact.tex}

\clearpage

% ---------------------------------------------------------------------------
%  Section 3: Implementation
% ---------------------------------------------------------------------------

\section{Implementation}

\TODO{Typical granularity: 5-8 work packages with 3-5 tasks and one
  deliverable per task; 10 milestones}

\subsection{Work Plan --- Work packages, deliverables and milestones}
\label{sect:workplan}

\eucommentary{Please provide the following:\\
\begin{itemize}
\item
brief presentation of the overall structure of the work plan;
\item
timing of the different work packages and their components (Gantt chart or similar);
\item
detailed work description, i.e.:
\begin{itemize}
\item
a description of each work package (table 3.1a);
\item
a list of work packages (table 3.1b);
\item
a list of major deliverables (table 3.1c);
\end{itemize}
\item
graphical presentation of the components showing how they inter-relate (Pert chart or similar).
\end{itemize}
}

\subsubsection*{Overall Structure of the Work Plan}

The work plan is broken down into \pdatacount{wp} work packages as shown in
Figure~\ref{fig:wplist}: WP2 deals with ...  In addition, there is one management work
package (\WPref{management}) and one general dissemination work package
(\WPref{dissem}). The Gantt chart on Page~\pageref{fig:gantt} illustrates the timeline for
the various tasks for these work packages, including inter-task dependencies.

%\newpage
\subsubsection*{How the Work Packages will Achieve the Project Objectives}
\label{sssec:how_the_work_packages_will_achieve}

\TOWRITE{ALL}{This needs to explain that we're actually going to meet the
objectives.  Needs to be done after objectives and WPs.}

The project objectives (Section~\ref{sect:objectives},
page~\pageref{sect:objectives}) and the corresponding work
packages that contribute to achieving those objectives are:

\begin{center}
\begin{tabular}{|l|l|l|}\hline
\textbf{Objective} & \textbf{Purpose} & \textbf{WPs} \\\hline \hline
Objective 1 & XX & \textbf{WPX} \\\hline
\end{tabular}
\end{center}

\paragraph*{Work Programme for Objective 1: }

Objective 1 is covered by WPX, which will ...

\subsubsection*{Work Plan Timing: GANTT Chart showing Task Dependencies and Information Flows}

\ganttchart[draft,xscale=.28] 
\newpage

%\makeatletter\wp@total@RM{management}\makeatother
\wpfigstyle{\footnotesize\def\tabcolsep{3.5pt}}
%\wpfig[pages,type,start,end]
{\wpfig}

\newpage
\subsubsection*{Deliverables}\label{sec:deliverables}
\inputdelivs{8cm}
\newpage
\subsubsection*{Milestones}\label{sec:milestones}
\input{milestones}

\eucommentary{
KEY
Estimated date
Measured in months from the project start date (month 1)
Means of verification
Show how you will confirm that the milestone has been attained. Refer to indicators if appropriate.
For example: a laboratory prototype that is ‘up and running’; software released and validated by a
user group; field survey complete and data quality validated.
}

% ---------------------------------------------------------------------------
% Include Work package descriptions
% ---------------------------------------------------------------------------

\input{WorkPackages/WorkPackages}

\TODO{Milestones need to be discussed and then described here.}

\newpage

\TODO{Check this for any necessary changes.}

% Management structure and procedures

\subsection{Management Structure and Procedures}
\input{management_structure_and_procedures.tex}

\draftpage
\subsection{Consortium as a Whole}
\eucommentary{\begin{itemize}
\item
Describe the consortium. How will it match the project's objectives?
How do the members complement one another (and cover the value chain,
where appropriate)? In what way does each of them contribute to the
project? How will they be able to work effectively together?
\item
If applicable, describe the industrial/commercial involvement in the
project to ensure exploitation of the results and explain why this is
consistent with and will help to achieve the specific measures which
are proposed for exploitation of the results of the project (see section 2.3).
\item
Other countries: If one or more of the participants requesting EU funding
is based in a country that is not automatically eligible for such funding
(entities from Member States of the EU, from Associated Countries and
from one of the countries in the exhaustive list included in General
Annex A of the work programme are automatically eligible for EU funding),
 explain why the participation of the entity in question is essential to carrying out the project
\end{itemize}
}

\TODO{Convert site names to standard abbreviations}

The consortium brings together:
\begin{enumerate}
\item \label{mathsoftware} Lead or core developers of a cross-section of the
  major open source computational components for pure mathematics and
  applications: \GAP (St~Andrews, Oxford), \Linbox (Grenoble),
  \MPIR (Kaiserslautern), \Pari (Bordeaux, Versailles), \Sage (Orsay,
  Versailles, Bordeaux, Oxford, Zürich), \Singular (Kaiserslautern).
\item \label{mathdb} Lead developers of a major online mathematical database:
  \LMFDB (Warwick, Zürich).
\item \label{mathknowledge} Experts in mathematical knowledge
  management (Bremen).
\item \label{smc} The lead developers of the closest thing currently
  existing to a Virtual Research
  Environment for mathematics: \SMC (Seattle). Because of the key role
  of \Sage in several aspects of the project, and the relevant of \SMC
  as a forerunner of the types of systems we want to build, the
  participation of this group is essential, even though they are not
  eligible for Horizon 2020 funding. They have agreed to provide the
  benefit of their experience on an unfunded basis, since they wish to
  remain closely involved in all developments in mathematical VREs.
\item \label{jupyter} Experts and major ``promoters'' of the \Jupyter
  collaborative user interfaces for interactive and exploratory
  computing in a variety of
  scientific domains (Southhampton, Simula, Sheffield, Silesia). 
\item \label{pythran} Lead developers of the Pythran system for
  automatic conversion of Python to C++ and experts in
  numerical code optimization/parallelization (Logilab, Grenoble)
\item \label{logilab} A company specialized in open-source based
  Database and Scientific Computing for industry (Logilab); it
  develops in particular its own virtual environment \Simulagora.
\item \label{social} Leading researchers in the sociology of
  mathematical research and collaboration. In particular the
  coordinating partner of the ``Social Machine of Mathematics''
  project which has been studying how mathematicians collaborate.
\end{enumerate}





There are many existing points of contact between these groups  and
communities, although many of them are also new to one another. This,
together with the fact that each community is internally collaborative
and part of the broader free software community gives us confidence in
their ability to work together.

\TOWRITE{ALL}{Long track record of collaborations between many of the
  sites. Some of the language below can be used.

Writing interfaces between computer algebra systems from different areas and collaborative 
software development are important themes within the DFG Priority Project SPP1489.
As in the {\sc{Sage}} community, networking measures include the regular exchange 
of developers and the regular organization of software workshops (coding sprints) which 
bring whole teams together for solution finding and intense code writing. Particular tight 
collaborations exist between the {\sc{GAP}} and the {\sc{Singular}} communities, with 
major {\sc{GAP-Singular}} developers meetings taking alternately place at St~Andrews,
Kaiserslautern, and Aachen. See \url{http://www.computeralgebra.de/}.
}

The exact role of each partner in each workpackage is defined
elsewhere, but in general terms:
\begin{itemize}
\item Groups \ref{mathsoftware}, \ref{mathdb}, and
\ref{mathknowledge} will collaborate be to design the \TheProject VRE
architecture -- the set of interfaces and standards that allow
components to be assembled into bespoke VREs for particular projects
or areas. This architecture will be informed  by the
experience of \ref{logilab} and \ref{smc}; by the sociological
understanding of \ref{social} and from a 
\textbf{diverse range of real world use cases from all areas of scientific
  computing, in academia and industry} drawn from their own user bases
and contributed by \ref{logilab} and \ref{smc}.

They will be supported in this work by \ref{smc}, \ref{jupyter} and \ref{pythran} which
bring respectively expertise in the key technologies \SMC and \Jupyter and the cython
technology (Seattle).

\item All the participants will make use of the \TheProject VRE, providing feedback to the
  developers and contributing later to the development of demonstrator projects
  (Objective~\ref{objective:demo}). They will also all participate actively in
  dissemination (Objective~\ref{objective:disseminate}) activities.

\item Group \ref{jupyter} will host and mentor core \Jupyter developers to improve this
  key technology (Objective~\ref{objectives:core}), while \ref{mathsoftware},
  \ref{mathdb}, and \ref{mathknowledge} will update their mathematical software components
  (Objective~\ref{objective:updates}) to comply with the newly developed
  interfaces. \ref{pythran} will be a key asset for this work, providing expertise in
  massive parallelism and HPC, bringing in and further developing the specific \Pythran
  optimization technology and providing expertise for development of related technologies
  in othetr components.  \TOWRITE{ALL}{Experience in developing sustainable large open
    source software}

\item Group \ref{logilab} will further bring in expertise in semantic databases,
  distribution of large software, and open source based business models.

\item Groups \ref{mathsoftware}, \ref{smc}, and \ref{jupyter} already have strong
  experience in community building and engagement (Objective~\ref{objective:community})
  for instance through the very active user and developer communities around \GAP and
  \Sage. These communities and the dissemination to them of the availability new free
  software constitute the primary exploitation route for this project.
  \TOWRITE{ALL}{Experience in community building, engagement, dissemination}
\end{itemize}



\draftpage

\subsection{Resources to be Committed}

\input{resources}

\subsubsection*{Management Level Description of Resources and Budget}

\TODO{This needs to be updated in line with the rest of the
project.}

The project will employ XX person-months of effort over YY years,
comprising ...


% ---------------------------------------------------------------------------
%  Section 4: Members of the Consortium
% ---------------------------------------------------------------------------

\newpage

\eucommentary{This section is not covered by the page limit.\\
The information provided here will be used to judge the operational capacity.}

\section{Members of the Consortium}

\subsection{Participants}

\eucommentary{Please provide, for each participant, the following (if available):\\
\begin{itemize}
\item
a description of the legal entity and its main tasks,
with an explanation of how its profile matches the tasks in the proposal;
\item
a curriculum vitae or description of the profile of the persons,
including their gender, who will be primarily responsible for carrying
out the proposed research and/or innovation activities;
%
this includes a description of the profile of the to-be-recruited personnel
\item
a list of up to 5 relevant publications, and/or products, services
(including widely-used datasets or software), or other achievements
relevant to the call content;
\item
a list of up to 5 relevant previous projects or activities, connected
to the subject of this proposal;
\item
a description of any significant infrastructure and/or any major items
of technical equipment, relevant to the proposed work;
\item
any other supporting documents specified in the work programme for this call.
\end{itemize}}

\clearpage
\input{Participants/ParisSud.tex}
\clearpage
\input{Participants/Logilab.tex}
\clearpage
\input{Participants/Versailles.tex}
\clearpage
\input{Participants/Grenoble.tex}
\clearpage
\input{Participants/Bordeaux.tex}
\clearpage
\input{Participants/Oxford.tex}
\clearpage
\input{Participants/Sheffield.tex}
\clearpage
\input{Participants/Southampton.tex}
\clearpage
\input{Participants/StAndrews.tex}
\clearpage
\input{Participants/Warwick.tex}
\clearpage
\input{Participants/Bremen.tex}
\clearpage
\input{Participants/Kaiserslautern.tex}
\clearpage
\input{Participants/Silesia.tex}
\clearpage
\TOWRITE{MK}{PIC for University of Silesia}
\clearpage
\input{Participants/Zurich.tex}
\clearpage
\input{Participants/Simula.tex}
\clearpage
\input{Participants/Washington.tex}

\cite{science-project}

\subsection{Third Parties Involved in the Project (including use of third party resources)}

\eucommentary{Please complete, for each participant, the table
(see page 27 of "VRETemplate.PDF"),
or simply state "No third parties involved", if applicable.}

No third parties involved.

\TODO{Or Seattle? See https://www.iprhelpdesk.eu/node/2549}

% ---------------------------------------------------------------------------
%  Section 5: Ethics and Security
% ---------------------------------------------------------------------------

\newpage

\section{Ethics and Security}

\eucommentary{This section is not covered by the page limit.}

\subsection{Ethics}

\eucommentary{
If you have entered any ethics issues in the ethical issue table in the administrative proposal forms, you must:\\
$\bullet$ submit an ethics self-assessment, which: \\
-- describes how the proposal meets the national legal and ethical requirements of the
country or countries where the tasks raising ethical issues are to be carried out;\\
-- explains in detail how you intend to address the issues in the ethical issues table, in
particular as regards:
research objectives (e.g. study of vulnerable populations, dual use, etc.),
research methodology (e.g. clinical trials, involvement of children and related
consent procedures, protection of any data collected, etc.),
the potential impact of the research (e.g. dual use issues, environmental damage,
stigmatisation of particular social groups, political or financial retaliation,
benefit-sharing, malevolent use , etc.)\\
$\bullet$ provide the documents that you need under national law (if you already have them), e.g.:\\
-- an ethics committee opinion;\\
-- the document notifying activities raising ethical issues or authorizing such activities\\
If these documents are not in English, you must also submit an English summary of them
(containing, if available, the conclusions of the committee or authority concerned).\\
If you plan to request these documents specifically for the project
you are proposing, your request must contain an explicit reference to the project title}

\subsection{Security}

Please indicate if your proposal will involve:

\begin{itemize}
\item activities or results raising security issues: NO
\item 'EU-classified information' as background or results: NO
\end{itemize}
\end{proposal}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

%  LocalWords:  sud logilab urich Simula thiery acrolong igital esearch nvironments pn wp
%  LocalWords:  athematics pnlong callname callid challengeid objectiveid outcomeid emph
%  LocalWords:  compactht newcommand tableofcontents Linbox IPython textbf eucommentary
%  LocalWords:  vre TOWRITE citability Cython Laboratoire Recherche Informatique devs WPs
%  LocalWords:  clearpage draftpage programme workplan subsubsection pdatacount wplist sc
%  LocalWords:  WPref dissem pageref newpage sssec hline ganttchart xscale makeatletter
%  LocalWords:  makeatother wpfigstyle footnotesize tabcolsep wpfig inputdelivs mgt smc
%  LocalWords:  mathsoftware mathdb mathknowledge jupyter silesia pythran Pythran ldots
%  LocalWords:  Simulagora stigmatisation compactenum planetmath.org
